
████████████████████████████████████████████████████████████
  TEST 1: Dummy CRN (00000) debounce tetikler mi?
████████████████████████████████████████████████████████████
  İlk istek: dummy CRN 00000
  İkinci istek: 1sn sonra dummy CRN 00000

============================================================
  T1-A: İlk dummy istek
============================================================
  HTTP 200 | 113ms | Method: POST
  VAL16: ✅ Yok
  VAL02: ⏳ Evet
  Body: {
  "ecrnResultList": [
    {
      "crn": "00000",
      "operationFinished": true,
      "statusCode": 1,
      "resultCode": "VAL02",
      "resultData": null
    }
  ],
  "scrnResultList": []
}

============================================================
  T1-B: 1sn sonra ikinci dummy istek
============================================================
  HTTP 200 | 16ms | Method: POST
  VAL16: ⚠️ EVET
  VAL02: ✅ Yok
  Body: {
  "ecrnResultList": [
    {
      "crn": "00000",
      "operationFinished": true,
      "statusCode": 1,
      "resultCode": "VAL16",
      "resultData": {}
    }
  ],
  "scrnResultList": []
}

⚠️ SONUÇ: Dummy CRN (00000) debounce TETİKLİYOR!
   → Keepalive ve probe POST'ları gerçek isteği debounce'a sokabilir!

⏳ 5sn bekleniyor (debounce reset)...

████████████████████████████████████████████████████████████
  TEST 2: HEAD isteği debounce tetikler mi?
████████████████████████████████████████████████████████████

============================================================
  T2-A: HEAD isteği
============================================================
  HTTP 405 | 9ms | Method: HEAD

============================================================
  T2-B: HEAD'den 0.5sn sonra POST
============================================================
  HTTP 200 | 24ms | Method: POST
  VAL16: ✅ Yok
  VAL02: ⏳ Evet
  Body: {
  "ecrnResultList": [
    {
      "crn": "00000",
      "operationFinished": true,
      "statusCode": 1,
      "resultCode": "VAL02",
      "resultData": null
    }
  ],
  "scrnResultList": []
}

✅ SONUÇ: HEAD isteği debounce tetiklemiyor

⏳ 5sn bekleniyor (debounce reset)...

████████████████████████████████████████████████████████████
  TEST 3: VAL16 IP bazlı mı yoksa token bazlı mı?
████████████████████████████████████████████████████████████
  Token1 ile istek at → hemen Token2 ile istek at

============================================================
  T3-A: Token1 ile istek
============================================================
  HTTP 200 | 21ms | Method: POST
  VAL16: ✅ Yok
  VAL02: ⏳ Evet
  Body: {
  "ecrnResultList": [
    {
      "crn": "00000",
      "operationFinished": true,
      "statusCode": 1,
      "resultCode": "VAL02",
      "resultData": null
    }
  ],
  "scrnResultList": []
}

============================================================
  T3-B: Token2 ile 0.5sn sonra istek
============================================================
  HTTP 200 | 92ms | Method: POST
  VAL16: ✅ Yok
  VAL02: ⏳ Evet
  Body: {
  "ecrnResultList": [
    {
      "crn": "00000",
      "operationFinished": true,
      "statusCode": 1,
      "resultCode": "VAL02",
      "resultData": null
    }
  ],
  "scrnResultList": []
}

✅ SONUÇ: VAL16 TOKEN BAZLI. Farklı tokenlar birbirini etkilemiyor.
   → Multi-user güvenle çalışır ✅

⏳ 5sn bekleniyor (debounce reset)...

████████████████████████████████████████████████████████████
  TEST 4: Engine senaryosu (keepalive + probe + kayıt)
████████████████████████████████████████████████████████████
  Sıra: POST(5.5s) → POST(3.5s) → 3xPOST(2.5s) → KAYIT(0s)
  (Zamanlar kısaltılmış)

============================================================
  T4-A: Keepalive POST (5.5sn kala)
============================================================
  HTTP 200 | 36ms | Method: POST
  VAL16: ✅ Yok
  VAL02: ⏳ Evet
  Body: {
  "ecrnResultList": [
    {
      "crn": "00000",
      "operationFinished": true,
      "statusCode": 1,
      "resultCode": "VAL02",
      "resultData": null
    }
  ],
  "scrnResultList": []
}

============================================================
  T4-B: Keepalive POST (3.5sn kala)
============================================================
  HTTP 200 | 16ms | Method: POST
  VAL16: ⚠️ EVET
  VAL02: ✅ Yok
  Body: {
  "ecrnResultList": [
    {
      "crn": "00000",
      "operationFinished": true,
      "statusCode": 1,
      "resultCode": "VAL16",
      "resultData": {}
    }
  ],
  "scrnResultList": []
}

============================================================
  T4-C1: Probe POST (2.5sn kala, #1)
============================================================
  HTTP 200 | 11ms | Method: POST
  VAL16: ⚠️ EVET
  VAL02: ✅ Yok
  Body: {
  "ecrnResultList": [
    {
      "crn": "00000",
      "operationFinished": true,
      "statusCode": 1,
      "resultCode": "VAL16",
      "resultData": {}
    }
  ],
  "scrnResultList": []
}

============================================================
  T4-C2: Probe POST (2.5sn kala, #2)
============================================================
  HTTP 200 | 11ms | Method: POST
  VAL16: ⚠️ EVET
  VAL02: ✅ Yok
  Body: {
  "ecrnResultList": [
    {
      "crn": "00000",
      "operationFinished": true,
      "statusCode": 1,
      "resultCode": "VAL16",
      "resultData": {}
    }
  ],
  "scrnResultList": []
}

============================================================
  T4-C3: Probe POST (2.5sn kala, #3)
============================================================
  HTTP 200 | 11ms | Method: POST
  VAL16: ⚠️ EVET
  VAL02: ✅ Yok
  Body: {
  "ecrnResultList": [
    {
      "crn": "00000",
      "operationFinished": true,
      "statusCode": 1,
      "resultCode": "VAL16",
      "resultData": {}
    }
  ],
  "scrnResultList": []
}

============================================================
  T4-D: GERÇEK KAYIT İSTEĞİ (0sn)
============================================================
  HTTP 200 | 11ms | Method: POST
  VAL16: ⚠️ EVET
  VAL02: ✅ Yok
  Body: {
  "ecrnResultList": [
    {
      "crn": "00000",
      "operationFinished": true,
      "statusCode": 1,
      "resultCode": "VAL16",
      "resultData": {}
    }
  ],
  "scrnResultList": []
}

🚨 SONUÇ: Engine senaryosunda GERÇEK İSTEK VAL16 YEDİ!
   → Keepalive/probe POST'ları gerçek kaydı sabote ediyor!
   → ACİL: Keepalive'ı HEAD'e çevir, probe aralığını >3sn yap!

============================================================
  TESTLER TAMAMLANDI
============================================================
